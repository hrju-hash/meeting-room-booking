<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Firebase ì™„ì „ ìë™ ì„¤ì •</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .container {
            max-width: 600px;
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        h1 {
            color: #333;
            margin-bottom: 20px;
            font-size: 24px;
            text-align: center;
        }
        .step {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
        }
        .step-title {
            font-weight: bold;
            color: #667eea;
            margin-bottom: 10px;
            font-size: 18px;
        }
        .auto-button {
            background: #667eea;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 10px;
            font-size: 16px;
            cursor: pointer;
            width: 100%;
            margin-top: 10px;
            transition: all 0.3s;
        }
        .auto-button:hover {
            background: #5568d3;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }
        .auto-button:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }
        .status {
            margin-top: 15px;
            padding: 15px;
            border-radius: 8px;
            display: none;
        }
        .status.success {
            background: #c6f6d5;
            color: #22543d;
            display: block;
        }
        .status.error {
            background: #fed7d7;
            color: #742a2a;
            display: block;
        }
        .status.info {
            background: #bee3f8;
            color: #2c5282;
            display: block;
        }
        .code {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 15px;
            border-radius: 8px;
            font-family: monospace;
            font-size: 12px;
            margin-top: 10px;
            overflow-x: auto;
        }
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid #f3f3f3;
            border-top: 3px solid #667eea;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-right: 10px;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ”¥ Firebase ì™„ì „ ìë™ ì„¤ì •</h1>
        
        <div class="step">
            <div class="step-title">1ë‹¨ê³„: Firebase í”„ë¡œì íŠ¸ ìƒì„±</div>
            <p style="color: #666; margin-bottom: 10px;">
                ì•„ë˜ ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ Firebase ì½˜ì†”ì´ ì—´ë¦½ë‹ˆë‹¤.<br>
                í”„ë¡œì íŠ¸ ì´ë¦„ì„ <strong>malgn-booking</strong>ìœ¼ë¡œ ì…ë ¥í•˜ê³  ìƒì„±í•˜ì„¸ìš”.
            </p>
            <button class="auto-button" onclick="openFirebaseConsole()">
                ğŸš€ Firebase ì½˜ì†” ì—´ê¸° (ìë™)
            </button>
            <div id="step1-status" class="status"></div>
        </div>

        <div class="step">
            <div class="step-title">2ë‹¨ê³„: Realtime Database ìƒì„±</div>
            <p style="color: #666; margin-bottom: 10px;">
                ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ìƒì„±í•˜ì„¸ìš”. ìœ„ì¹˜ëŠ” <strong>asia-northeast3</strong>ë¥¼ ì„ íƒí•˜ì„¸ìš”.
            </p>
            <button class="auto-button" onclick="openDatabaseSetup()" id="step2-btn" disabled>
                ğŸ“Š ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì • ê°€ì´ë“œ ì—´ê¸°
            </button>
            <div id="step2-status" class="status"></div>
        </div>

        <div class="step">
            <div class="step-title">3ë‹¨ê³„: ì›¹ ì•± ë“±ë¡ ë° êµ¬ì„± ì •ë³´ ê°€ì ¸ì˜¤ê¸°</div>
            <p style="color: #666; margin-bottom: 10px;">
                ì›¹ ì•±ì„ ë“±ë¡í•˜ê³  êµ¬ì„± ì •ë³´ë¥¼ ë³µì‚¬í•˜ì„¸ìš”.
            </p>
            <button class="auto-button" onclick="openWebAppSetup()" id="step3-btn" disabled>
                ğŸŒ ì›¹ ì•± ì„¤ì • ê°€ì´ë“œ ì—´ê¸°
            </button>
            <div id="step3-status" class="status"></div>
        </div>

        <div class="step">
            <div class="step-title">4ë‹¨ê³„: êµ¬ì„± ì •ë³´ ì…ë ¥ ë° ìë™ ì €ì¥</div>
            <p style="color: #666; margin-bottom: 10px;">
                Firebase ì½˜ì†”ì—ì„œ ë³µì‚¬í•œ êµ¬ì„± ì •ë³´ë¥¼ ì•„ë˜ì— ë¶™ì—¬ë„£ìœ¼ì„¸ìš”.
            </p>
            <textarea 
                id="config-input" 
                placeholder="const firebaseConfig = { apiKey: '...', ... };" 
                style="width: 100%; padding: 12px; border: 2px solid #e2e8f0; border-radius: 8px; font-family: monospace; font-size: 12px; min-height: 150px; margin-bottom: 10px;"
            ></textarea>
            <button class="auto-button" onclick="saveAndDeploy()" id="step4-btn" disabled>
                ğŸ’¾ ì €ì¥ ë° ìë™ ë°°í¬
            </button>
            <div id="step4-status" class="status"></div>
        </div>
    </div>

    <script>
        let currentStep = 1;

        function openFirebaseConsole() {
            window.open('https://console.firebase.google.com/?project=malgn-booking', '_blank');
            document.getElementById('step1-status').className = 'status info';
            document.getElementById('step1-status').textContent = 'âœ… Firebase ì½˜ì†”ì´ ì—´ë ¸ìŠµë‹ˆë‹¤. í”„ë¡œì íŠ¸ë¥¼ ìƒì„±í•œ í›„ ë‹¤ìŒ ë‹¨ê³„ë¡œ ì§„í–‰í•˜ì„¸ìš”.';
            document.getElementById('step2-btn').disabled = false;
        }

        function openDatabaseSetup() {
            window.open('https://console.firebase.google.com/project/malgn-booking/database', '_blank');
            document.getElementById('step2-status').className = 'status info';
            document.getElementById('step2-status').innerHTML = `
                <strong>ë°ì´í„°ë² ì´ìŠ¤ ìƒì„± ë‹¨ê³„:</strong><br>
                1. "ë°ì´í„°ë² ì´ìŠ¤ ë§Œë“¤ê¸°" í´ë¦­<br>
                2. ìœ„ì¹˜: <strong>asia-northeast3 (Seoul)</strong> ì„ íƒ<br>
                3. ë³´ì•ˆ ê·œì¹™: <strong>í…ŒìŠ¤íŠ¸ ëª¨ë“œë¡œ ì‹œì‘</strong> ì„ íƒ<br>
                4. "ê·œì¹™" íƒ­ì—ì„œ ì•„ë˜ ì½”ë“œë¡œ êµì²´ í›„ "ê²Œì‹œ":<br>
                <div class="code">{
  "rules": {
    ".read": true,
    ".write": true
  }
}</div>
            `;
            document.getElementById('step3-btn').disabled = false;
        }

        function openWebAppSetup() {
            window.open('https://console.firebase.google.com/project/malgn-booking/settings/general', '_blank');
            document.getElementById('step3-status').className = 'status info';
            document.getElementById('step3-status').innerHTML = `
                <strong>ì›¹ ì•± ë“±ë¡ ë‹¨ê³„:</strong><br>
                1. "ì•±" ì„¹ì…˜ì—ì„œ ì›¹ ì•„ì´ì½˜ (<code>&lt;/&gt;</code>) í´ë¦­<br>
                2. ì•± ë‹‰ë„¤ì„: <strong>malgn-booking-web</strong> ì…ë ¥<br>
                3. "Firebase Hostingë„ ì„¤ì •í•˜ì‹œê² ìŠµë‹ˆê¹Œ?" â†’ <strong>ì²´í¬ í•´ì œ</strong><br>
                4. "ì•± ë“±ë¡" í´ë¦­<br>
                5. í‘œì‹œë˜ëŠ” <code>firebaseConfig</code> ê°ì²´ <strong>ì „ì²´ ë³µì‚¬</strong><br>
                6. ì•„ë˜ ì…ë ¥ë€ì— ë¶™ì—¬ë„£ê¸°
            `;
            document.getElementById('step4-btn').disabled = false;
        }

        function saveAndDeploy() {
            const configText = document.getElementById('config-input').value.trim();
            
            if (!configText) {
                document.getElementById('step4-status').className = 'status error';
                document.getElementById('step4-status').textContent = 'âŒ êµ¬ì„± ì •ë³´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.';
                return;
            }

            // firebase-config.js íŒŒì¼ ìƒì„±
            let configContent = `// Firebase ì„¤ì • íŒŒì¼
// Firebase í”„ë¡œì íŠ¸ì—ì„œ ìë™ìœ¼ë¡œ ìƒì„±ëœ êµ¬ì„± ì •ë³´

${configText}

// Firebase ì´ˆê¸°í™”
let firebaseInitialized = false;
if (typeof firebase !== 'undefined') {
    try {
        firebase.initializeApp(firebaseConfig);
        firebaseInitialized = true;
        console.log('Firebaseê°€ ì„±ê³µì ìœ¼ë¡œ ì´ˆê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤.');
    } catch (error) {
        console.error('Firebase ì´ˆê¸°í™” ì˜¤ë¥˜:', error);
        console.warn('Firebase êµ¬ì„± ì •ë³´ë¥¼ í™•ì¸í•˜ì„¸ìš”. LocalStorageë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.');
    }
} else {
    console.error('Firebase SDKê°€ ë¡œë“œë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.');
}
`;

            // íŒŒì¼ ë‹¤ìš´ë¡œë“œ
            const blob = new Blob([configContent], { type: 'text/javascript' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'firebase-config.js';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);

            // ì„±ê³µ ë©”ì‹œì§€ ë° ë°°í¬ ì•ˆë‚´
            document.getElementById('step4-status').className = 'status success';
            document.getElementById('step4-status').innerHTML = `
                âœ… <strong>êµ¬ì„± ì •ë³´ê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!</strong><br><br>
                <strong>ë‹¤ìŒ ë‹¨ê³„:</strong><br>
                1. ë‹¤ìš´ë¡œë“œëœ <code>firebase-config.js</code> íŒŒì¼ì„ í”„ë¡œì íŠ¸ í´ë”ì— ë„£ìœ¼ì„¸ìš”<br>
                2. ì•„ë˜ ëª…ë ¹ì„ ì‹¤í–‰í•˜ê±°ë‚˜ <code>setup-and-deploy.bat</code> íŒŒì¼ì„ ì‹¤í–‰í•˜ì„¸ìš”:<br>
                <div class="code">git add firebase-config.js<br>git commit -m "Firebase ì„¤ì • ì¶”ê°€"<br>git push</div>
                <br>
                ë˜ëŠ” <code>setup-and-deploy.bat</code> íŒŒì¼ì„ ë”ë¸”í´ë¦­í•˜ì„¸ìš”!
            `;
            document.getElementById('step4-btn').disabled = true;
            document.getElementById('step4-btn').textContent = 'âœ… ì™„ë£Œ!';
        }

        // êµ¬ì„± ì •ë³´ ì…ë ¥ ê°ì§€
        document.getElementById('config-input').addEventListener('input', function() {
            if (this.value.trim().length > 0) {
                document.getElementById('step4-btn').disabled = false;
            } else {
                document.getElementById('step4-btn').disabled = true;
            }
        });
    </script>
</body>
</html>

